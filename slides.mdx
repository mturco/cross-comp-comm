import { Notes } from 'mdx-deck';
import { aspect, prism } from 'mdx-deck/themes';
import { custom } from './theme';

export const themes = [prism, custom];

# Cross Component Communication

---

## Common Problems

---

### Using Props

```jsx
<Greeting subject="World" />
// ↓
<p>Hello, {subject}!</p>
```

---

### Problem: Prop Drilling

```jsx
<App userName="Michael Scott" />
// ↓
<Dashboard userName={userName} />
// ↓
<DashboardHeader userName={userName} />
// ↓
<UserGreeting userName={userName} />
// ↓
<p>Welcome back, {userName}!</p>
```

---

### Solution: Use Context

```jsx
const UserContext = React.createContext(null);
```

```jsx
<UserContext.Provider value={user}>
  <App>
    <Dashboard>
      <DashboardHeader>
        <UserGreeting />
        ...
```

---

```jsx
const UserGreeting = () => {
  const user = useContext(UserContext);
  return <p>Welcome back, {user.name}!</p>;
};
```

---

### Using Render Props

```jsx
<Counter initialValue={0}>
  {({ count, increment, decrement }) => (
    <>
      <p>Count: {count}</p>
      <button onClick={increment}>++</button>
      <button onClick={decrement}>--</button>
    </>
  )}
</Counter>
```

---

```jsx
const Counter = ({ children, initialValue }) => {
  const [count, setCount] = useState(initialValue);
  const props = useMemo(
    () => ({
      count,
      increment: () => setCount(c => c + 1),
      decrement: () => setCount(c => c - 1)
    }),
    [count, setCount]
  );
  return children(props);
};
```

---

### Problem: Hierarchy dictates access to props

```jsx
const CloudCounter = ({ save }) => {
  // Oops! We don't have access to `count` from here
  useEffect(() => save(count), [count]);

  return (
    <Counter>
      {({ count, increment, decrement }) => {
        // ...
      }}
    </Counter>
  );
};
```

---

## Useful Patterns

---

## Namely is Hiring

(placeholder)
